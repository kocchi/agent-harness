# Design Session
# トレードオフ判断のための場
# 設計、アーキテクチャ、方針決定

id: design

purpose: "トレードオフ判断"

description: |
  正解が一つではない判断を行う場。
  異なるメンタルモデルを持つ参加者が提案を応酬し、
  盲点をカバーした統合提案を生み出す。

# 参加者構成
participants:
  executor:
    role: "設計提案者"
    perspective: "推進側、構築"
    examples:
      - "Kent Beck - シンプルな設計、YAGNI"
      - "Martin Fowler - リファクタリング、進化的設計"
  watcher:
    role: "検査者"
    perspective: "直交する視点"
    examples:
      - "Martin Fowler - 構造化、長期保守性"
      - "Nassim Taleb - 反脆弱性、ブラックスワン"
  system_thinker:
    role: "全体観察（オプション）"
    perspective: "フィードバックループ、副作用"

# 人格インストール
persona:
  required: true
  selection_axes:
    - "構造 vs 柔軟"
    - "リスク回避 vs 機会追求"
    - "分析 vs 直感"
  rationale: "設計判断は価値観に依存する。異なるメンタルモデルで盲点をカバー"

# イテレーション
iterations:
  min: 2
  max: 3
  criteria: "合意形成まで"
  rationale: |
    多視点セッションの本質。
    1. 各自がベストな提案を出す
    2. 提案をぶつけ合う
    3. お互いの盲点に気づく
    4. 再提案 / 反論
    5. 統合提案を出す

# 入出力
inputs:
  - "要件（何を満たす必要があるか）"
  - "制約（技術的、時間的、リソース的）"
  - "選択肢（考えられるアプローチ）"

outputs:
  - "設計書（選択したアプローチ）"
  - "トレードオフ記録（何を選び、何を捨てたか）"
  - "盲点カバー記録（どの盲点がどうカバーされたか）"

# 終了条件
completion:
  success: "統合提案に合意し、トレードオフが明示されている"
  escalation: "3イテレーションで合意できない場合、ユーザーに判断を委ねる"

# 遷移
transitions:
  on_success: "implement"
  on_issues: "planning（要件や制約の見直しが必要な場合）"

# 検査観点
inspection:
  - "VISION.md P5（人格インストール）を活用したか"
  - "盲点が相互にカバーされたか"
  - "トレードオフが明示されているか"
  - "決定の理由が記録されているか"
