# Experiment Contract: H1 契約体系の効果測定
# Created: 2026-01-30

experiment-contract:
  id: "EXP-20260130-H1"
  
  hypothesis:
    id: "H1"
    statement: "契約体系が手戻りを減らす"
    source: "product-goal-contract"
  
  design:
    type: "A/B comparison"
    
    control_group:
      name: "契約なし"
      tasks: 3
      method: "従来通り（契約なしで実装）"
      prs: ["#6", "#7", "#8"]
      data:
        total_commits: 6
        reverts: 0
        fix_commits: 0
        pr_revisions: 0
      
    treatment_group:
      name: "契約あり"
      tasks: 5
      method: "slice-contract → 実装"
      prs: ["#1", "#2", "#3", "#4", "#5"]
      data:
        total_commits: 17
        reverts: 0
        fix_commits: 0
        pr_revisions: 0
  
  metrics:
    - name: "revert_rate"
      definition: "revert コミット / 総コミット"
      measurement: "git log"
    - name: "pr_revision_count"
      definition: "マージまでの追加コミット数"
      measurement: "gh pr"
    - name: "rework_commits"
      definition: "fix: プレフィックスのコミット数"
      measurement: "git log"
  
  results:
    comparison:
      revert_rate:
        with_contract: 0
        without_contract: 0
        difference: 0
      pr_revision_count:
        with_contract: 0
        without_contract: 0
        difference: 0
    
    conclusion: "inconclusive"
    reason: "タスク複雑度が低く、差が出る条件でなかった"
    
    observations:
      - "両グループとも手戻り（revert）なし"
      - "両グループともドキュメント変更のみ"
      - "契約体系の価値は「手戻り削減」以外にある可能性"
    
    alternative_hypotheses:
      - "契約体系は「明確化」の価値がある（判断の根拠が残る）"
      - "契約体系は「分析」の価値がある（未知→既知の変換）"
      - "手戻り削減の効果は複雑なタスクで発現する"
  
  next_steps:
    - "複雑な実装タスク（コード変更）で再実験"
    - "「手戻り削減」以外の価値指標を定義"
    - "主観的な満足度（ユーザー体験）を測定"
  
  status: "completed"
  
  duration:
    start: "2026-01-30"
    end: "2026-01-30"
  
  created_at: "2026-01-30"
  updated_at: "2026-01-30"
